# FrontAgent

> å·¥ç¨‹çº§ AI Agent ç³»ç»Ÿ - ä»¥ SDD ä¸ºçº¦æŸï¼Œé€šè¿‡ MCP å®ç°å¯æ§æ„ŸçŸ¥ä¸æ‰§è¡Œ

[ğŸ“– å¿«é€Ÿå¼€å§‹](docs/QUICKSTART.md) | [æ¶æ„æ–‡æ¡£](docs/architecture.md) | [è®¾è®¡æ–‡æ¡£](docs/design.md)

FrontAgent æ˜¯ä¸€ä¸ªä¸“ä¸ºå‰ç«¯å·¥ç¨‹è®¾è®¡çš„ AI Agent ç³»ç»Ÿï¼Œæ—¨åœ¨è§£å†³ Agent åœ¨çœŸå®å·¥ç¨‹ä¸­è½åœ°æ—¶é¢ä¸´çš„æ ¸å¿ƒé—®é¢˜ï¼š

- âœ… **å¹»è§‰é˜²æ§** - å¤šå±‚æ¬¡çš„å¹»è§‰æ£€æµ‹ä¸æ‹¦æˆªæœºåˆ¶
- âœ… **SDD çº¦æŸ** - ä»¥è½¯ä»¶è®¾è®¡æ–‡æ¡£ä½œä¸º Agent è¡Œä¸ºçš„ç¡¬çº¦æŸ
- âœ… **MCP åè®®** - é€šè¿‡ Model Context Protocol å®ç°å¯æ§çš„å·¥å…·è°ƒç”¨
- âœ… **æœ€å°ä¿®æ”¹** - åŸºäºè¡¥ä¸çš„ä»£ç ä¿®æ”¹ï¼Œæ”¯æŒå›æ»š
- âœ… **Web æ„ŸçŸ¥** - é€šè¿‡æµè§ˆå™¨ MCP ç†è§£é¡µé¢ç»“æ„

## TL;DR

```bash
# å®‰è£…
git clone <repo>
cd frontagent

# é…ç½®Agent
pnpm install
pnpm build
npm link

# é…ç½®LLM
export BASE_URL="https://api.anthropic.com"
export MODEL="claude-sonnet-4-20250514"
export API_KEY="your-key"

# è¿›å…¥ç›®æ ‡å·¥ç¨‹ç›®å½•ä½¿ç”¨
cd your-project
frontagent init
frontagent run "ä½ çš„ä»»åŠ¡"
```

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FrontAgent System                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ User Input  â”‚â”€â”€â”€â”€â–¶â”‚ Agent Core  â”‚â”€â”€â”€â”€â–¶â”‚   Output    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                             â”‚                                        â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚           â–¼                 â–¼                 â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  SDD Layer     â”‚ â”‚  Planner   â”‚ â”‚   Executor     â”‚              â”‚
â”‚  â”‚ (Constraints)  â”‚ â”‚ (ReAct)    â”‚ â”‚ (Tool Invoker) â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚          â”‚                â”‚                 â”‚                       â”‚
â”‚          â–¼                â–¼                 â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚           MCP Layer (Trusted Interface)               â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚  MCP Web Adapter â”‚     MCP File Adapter              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â–¼                        â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Browser    â”‚        â”‚  File System â”‚
     â”‚ (Playwright) â”‚        â”‚  (Project)   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒæ¨¡å—

### @frontagent/sdd - SDD æ§åˆ¶å±‚

è½¯ä»¶è®¾è®¡æ–‡æ¡£ï¼ˆSDDï¼‰ä½œä¸º Agent è¡Œä¸ºçš„ç¡¬çº¦æŸæ¥æºï¼š

```yaml
# sdd.yaml
version: "1.0"

project:
  name: "my-project"
  type: "react-spa"

tech_stack:
  framework: "react"
  version: "^18.0.0"
  language: "typescript"
  forbidden_packages:
    - "jquery"
    - "lodash"

code_quality:
  max_function_lines: 50
  max_file_lines: 300
  forbidden_patterns:
    - "any"
    - "// @ts-ignore"

modification_rules:
  protected_files:
    - "package.json"
  require_approval:
    - pattern: "src/api/*"
      reason: "API å±‚ä¿®æ”¹éœ€è¦å®¡æ‰¹"
```

### @frontagent/mcp-file - æ–‡ä»¶æ“ä½œ MCP

æä¾›æ–‡ä»¶æ“ä½œçš„ MCP å·¥å…·ï¼š

- `read_file` - è¯»å–æ–‡ä»¶å†…å®¹
- `apply_patch` - åº”ç”¨ä»£ç è¡¥ä¸ï¼ˆæœ€å° diffï¼‰
- `create_file` - åˆ›å»ºæ–°æ–‡ä»¶
- `search_code` - æœç´¢ä»£ç 
- `list_directory` - åˆ—å‡ºç›®å½•
- `get_ast` - è·å– AST åˆ†æ
- `rollback` - å›æ»šä¿®æ”¹

### @frontagent/mcp-web - Web æ„ŸçŸ¥ MCP

æä¾›æµè§ˆå™¨äº¤äº’çš„ MCP å·¥å…·ï¼š

- `navigate` - å¯¼èˆªåˆ° URL
- `get_page_structure` - è·å–é¡µé¢ DOM ç»“æ„
- `get_accessibility_tree` - è·å–æ— éšœç¢æ ‘
- `get_interactive_elements` - è·å–å¯äº¤äº’å…ƒç´ 
- `click` / `type` / `scroll` - é¡µé¢äº¤äº’
- `screenshot` - é¡µé¢æˆªå›¾

### @frontagent/hallucination-guard - å¹»è§‰é˜²æ§

å¤šå±‚æ¬¡çš„å¹»è§‰æ£€æµ‹æœºåˆ¶ï¼š

1. **æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥** - éªŒè¯å¼•ç”¨çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. **å¯¼å…¥æœ‰æ•ˆæ€§æ£€æŸ¥** - éªŒè¯ import æ˜¯å¦å¯è§£æ
3. **è¯­æ³•æœ‰æ•ˆæ€§æ£€æŸ¥** - éªŒè¯ä»£ç è¯­æ³•æ˜¯å¦æ­£ç¡®
4. **SDD åˆè§„æ€§æ£€æŸ¥** - éªŒè¯æ˜¯å¦ç¬¦åˆ SDD çº¦æŸ

## å¹»è§‰é˜²æ§è®¾è®¡

### å¹»è§‰æ¥æºä¸é˜²æ§ç­–ç•¥

| å¹»è§‰ç±»å‹ | äº§ç”Ÿä½ç½® | é˜²æ§æœºåˆ¶ |
|---------|---------|---------|
| æ–‡ä»¶å¹»è§‰ | Planner | æ‰§è¡Œå‰æ ¡éªŒæ–‡ä»¶å­˜åœ¨æ€§ |
| API å¹»è§‰ | Planner | å¯¼å…¥æœ‰æ•ˆæ€§æ£€æŸ¥ |
| è¯­æ³•å¹»è§‰ | Executor | AST è§£æéªŒè¯ |
| ä¾èµ–å¹»è§‰ | Executor | package.json æ£€æŸ¥ |
| è§„èŒƒå¹»è§‰ | Planner | SDD åˆè§„æ€§æ ¡éªŒ |

### é˜²æ§å±‚æ¬¡

```
Layer 1: SDD é¢„çº¦æŸ
    â””â”€â”€ åœ¨ System Prompt ä¸­æ³¨å…¥çº¦æŸ
    
Layer 2: è§„åˆ’æ—¶æ ¡éªŒ
    â””â”€â”€ éªŒè¯è®¡åˆ’æ˜¯å¦ç¬¦åˆ SDD
    
Layer 3: æ‰§è¡Œæ—¶æ ¡éªŒ
    â””â”€â”€ æ¯ä¸ªå·¥å…·è°ƒç”¨å‰åéªŒè¯
    
Layer 4: è¾“å‡ºæ—¶æ ¡éªŒ
    â””â”€â”€ æœ€ç»ˆè¾“å‡ºå…¨é‡éªŒè¯
    
Layer 5: å›æ»šæœºåˆ¶
    â””â”€â”€ æ ¡éªŒå¤±è´¥è‡ªåŠ¨å›æ»š
```

## æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript
- **è¿è¡Œæ—¶**: Node.js 20+
- **åŒ…ç®¡ç†**: pnpm
- **MCP SDK**: @modelcontextprotocol/sdk
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: Playwright
- **AST åˆ†æ**: ts-morph
- **LLM é›†æˆ**: Vercel AI SDK

## ç›®å½•ç»“æ„

```
frontagent/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/              # å…±äº«ç±»å‹å’Œå·¥å…·
â”‚   â”œâ”€â”€ sdd/                 # SDD æ§åˆ¶å±‚
â”‚   â”œâ”€â”€ mcp-file/            # æ–‡ä»¶æ“ä½œ MCP Server
â”‚   â”œâ”€â”€ mcp-web/             # Web æ„ŸçŸ¥ MCP Server
â”‚   â”œâ”€â”€ hallucination-guard/ # å¹»è§‰é˜²æ§
â”‚   â””â”€â”€ core/                # Agent æ ¸å¿ƒ
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ cli/                 # CLI å·¥å…·
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ sdd-example.yaml     # SDD é…ç½®ç¤ºä¾‹
â””â”€â”€ docs/
    â”œâ”€â”€ architecture.md      # æ¶æ„è®¾è®¡æ–‡æ¡£
    â””â”€â”€ design.md            # åŸå§‹éœ€æ±‚
```

## å¼€å‘

```bash
# å¼€å‘æ¨¡å¼
pnpm dev

# ç±»å‹æ£€æŸ¥
pnpm typecheck

# æ„å»º
pnpm build

# æ¸…ç†
pnpm clean
```

## è·¯çº¿å›¾

- [ ] RAG ç»éªŒåº“é›†æˆ
- [ ] GUI Agent è‡ªåŠ¨æµ‹è¯•
- [ ] VS Code æ’ä»¶
- [ ] å¤š Agent åä½œ
- [ ] è‡ªå®šä¹‰ MCP Server æ”¯æŒ

## License

MIT

