# FrontAgent

[![npm version](https://badge.fury.io/js/frontagent.svg)](https://www.npmjs.com/package/frontagent)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D20.0.0-brightgreen)](https://nodejs.org)

> é¢å‘å‰ç«¯å·¥ç¨‹çš„ä¼ä¸šçº§ AI Agent ç³»ç»Ÿ â€” ä»¥ SDD ä¸ºçº¦æŸã€é€šè¿‡ MCP æ§åˆ¶æ„ŸçŸ¥ä¸æ‰§è¡Œ

[English README](../README.md) | [å¿«é€Ÿå¼€å§‹](QUICKSTART.md) | [æ¶æ„](architecture.md) | [è®¾è®¡æ–‡æ¡£](design.md)

FrontAgent æ˜¯ä¸€ä¸ªä¸“ä¸ºå‰ç«¯å·¥ç¨‹è®¾è®¡çš„ AI Agent ç³»ç»Ÿï¼Œè§£å†³äº†åœ¨çœŸå®å·¥ç¨‹åœºæ™¯ä¸­éƒ¨ç½² agent æ—¶é‡åˆ°çš„æ ¸å¿ƒé—®é¢˜ï¼š

- âœ… **ä¸¤é˜¶æ®µæ¶æ„** â€” è§„åˆ’ä¸æ‰§è¡Œåˆ†ç¦»ï¼Œé¿å… JSON è§£æé”™è¯¯å¹¶æ”¯æŒåŠ¨æ€ä»£ç ç”Ÿæˆ
- âœ… **åˆ†é˜¶æ®µæ‰§è¡Œ** â€” æ­¥éª¤æŒ‰é˜¶æ®µåˆ†ç»„ï¼Œæ”¯æŒé˜¶æ®µå†…é”™è¯¯æ¢å¤
- âœ… **è‡ªæ„ˆèƒ½åŠ›** â€” å·¥å…·é”™è¯¯åé¦ˆå¾ªç¯ä¼šè‡ªåŠ¨åˆ†æé”™è¯¯å¹¶ç”Ÿæˆä¿®å¤æ­¥éª¤
- âœ… **äº‹å®è®°å¿†** â€” åŸºäºç»“æ„åŒ–äº‹å®çš„ä¸Šä¸‹æ–‡ç³»ç»Ÿï¼Œç”¨äºç²¾ç¡®è·Ÿè¸ªé¡¹ç›®çŠ¶æ€
- âœ… **æ¨¡å—ä¾èµ–è·Ÿè¸ª** â€” è‡ªåŠ¨è§£æ import/exportï¼Œæ£€æµ‹è·¯å¾„å¹»è§‰
- âœ… **å¹»è§‰é¢„é˜²** â€” å¤šå±‚æ¬¡å¹»è§‰æ£€æµ‹ä¸æ‹¦æˆª
- âœ… **SDD çº¦æŸ** â€” å°† Specification Driven Development ä½œä¸º agent çš„ç¡¬çº¦æŸ
- âœ… **MCP åè®®** â€” é€šè¿‡ Model Context Protocol å—æ§è°ƒç”¨å·¥å…·
- âœ… **æœ€å°åŒ–æ”¹åŠ¨** â€” åŸºäºè¡¥ä¸çš„ä»£ç ä¿®æ”¹å¹¶æ”¯æŒå›æ»š
- âœ… **Web æ„ŸçŸ¥** â€” é€šè¿‡æµè§ˆå™¨ MCP ç†è§£é¡µé¢ç»“æ„
- âœ… **Shell é›†æˆ** â€” æ”¯æŒç»ˆç«¯å‘½ä»¤æ‰§è¡Œï¼ˆéœ€è¦ç”¨æˆ·æ‰¹å‡†ï¼‰
- âœ… **é¢„è§„åˆ’æ‰«æ** â€” è§„åˆ’å‰æ‰«æé¡¹ç›®ç»“æ„ä»¥ç”Ÿæˆå‡†ç¡®è·¯å¾„
- âœ… **è‡ªåŠ¨ç«¯å£æ£€æµ‹** â€” ä»é…ç½®æ–‡ä»¶è‡ªåŠ¨æ£€æµ‹å¼€å‘æœåŠ¡å™¨ç«¯å£

## TL;DR

```bash
# 1. é€šè¿‡ npm å…¨å±€å®‰è£…
npm install -g frontagent
# æˆ–ä½¿ç”¨ pnpm
pnpm add -g frontagent
# æˆ–ä½¿ç”¨ yarn
yarn global add frontagent

# 2. é…ç½® LLMï¼ˆæ”¯æŒ OpenAI ä¸ Anthropicï¼‰
# OpenAI é…ç½®
export PROVIDER="openai"
export BASE_URL="https://api.openai.com/v1"
export MODEL="gpt-4"
export API_KEY="sk-..."

# æˆ– Anthropic é…ç½®
export PROVIDER="anthropic"
export BASE_URL="https://api.anthropic.com"
export MODEL="claude-sonnet-4-20250514"
export API_KEY="sk-ant-..."

# 3. è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•å¹¶åˆå§‹åŒ– SDD
cd your-project
frontagent init

# 4. è®© AI å¸®ä½ å®Œæˆä»»åŠ¡
frontagent run "åˆ›å»ºç”¨æˆ·ç™»å½•é¡µé¢"
frontagent run "ä¼˜åŒ–é¦–é¡µåŠ è½½æ€§èƒ½"
frontagent run "æ·»åŠ æ·±è‰²æ¨¡å¼æ”¯æŒ"
```

## æ¶æ„æ¦‚è§ˆ

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FrontAgent ç³»ç»Ÿ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ç”¨æˆ·è¾“å…¥    â”‚â”€â”€â”€â”€â–¶â”‚ Agent Core  â”‚â”€â”€â”€â”€â–¶â”‚   è¾“å‡º       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                             â”‚                                       â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚           â–¼                 â–¼                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  SDD å±‚        â”‚ â”‚  Planner   â”‚ â”‚   Executor     â”‚             â”‚
â”‚  â”‚ (çº¦æŸ)         â”‚ â”‚ (é˜¶æ®µ 1)   â”‚ â”‚   (é˜¶æ®µ 2)     â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚          â”‚                â”‚                 â”‚                      â”‚
â”‚          â–¼                â–¼                 â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚           MCP å±‚ï¼ˆå—ä¿¡ä»»æ¥å£ï¼‰                        â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚  MCP File    â”‚   MCP Web     â”‚     MCP Shell        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–¼               â–¼                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ æ–‡ä»¶ç³»ç»Ÿ     â”‚ â”‚ æµè§ˆå™¨   â”‚     â”‚ Shell    â”‚
   â”‚ (é¡¹ç›®)       â”‚ â”‚(Playwright)â”‚   â”‚å‘½ä»¤      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰§è¡Œæµç¨‹

```
ç”¨æˆ·ä»»åŠ¡
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¢„è§„åˆ’ï¼ˆPre-Planningï¼‰â”‚ â† åœ¨è§„åˆ’å‰æ‰«æé¡¹ç›®ç»“æ„ï¼ˆNEWï¼‰
â”‚  æ–‡ä»¶æ‰«æ         â”‚   è‡ªåŠ¨æ£€æµ‹å¼€å‘æœåŠ¡å™¨ç«¯å£ï¼ˆNEWï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plannerï¼ˆé˜¶æ®µ 1ï¼‰ â”‚ â† éµå¾ª SDD çº¦æŸ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   è¾“å‡ºé¡¹ç›®æ–‡ä»¶åˆ—è¡¨ä¸ç«¯å£ä¿¡æ¯
         â”‚  ç”Ÿæˆå¸¦ phase å­—æ®µçš„æ‰§è¡Œè®¡åˆ’
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Executorï¼ˆé˜¶æ®µ 2ï¼‰              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Phase 1: åˆ†æ                  â”‚      â”‚
â”‚  â”‚  â”œâ”€ æ­¥éª¤ 1 âœ“                   â”‚      â”‚
â”‚  â”‚  â”œâ”€ æ­¥éª¤ 2 âœ—ï¼ˆé”™è¯¯ï¼‰          â”‚      â”‚
â”‚  â”‚  â””â”€ é”™è¯¯æ¢å¤                    â”‚      â”‚
â”‚  â”‚     â”œâ”€ åˆ†æé”™è¯¯                 â”‚      â”‚
â”‚  â”‚     â”œâ”€ ç”Ÿæˆä¿®å¤æ­¥éª¤             â”‚      â”‚
â”‚  â”‚     â””â”€ æ‰§è¡Œä¿®å¤ âœ“              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Phase 2: åˆ›å»º                  â”‚      â”‚
â”‚  â”‚  â”œâ”€ æ­¥éª¤ 3 âœ“                   â”‚      â”‚
â”‚  â”‚  â””â”€ æ­¥éª¤ 4 âœ“                   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                           â”‚
â”‚  æ¯ä¸ªæ­¥éª¤åï¼š                             â”‚
â”‚  â””â”€ æ›´æ–° Factsï¼ˆäº‹å®åº“ï¼‰                  â”‚
â”‚     â”œâ”€ æ–‡ä»¶ç³»ç»ŸçŠ¶æ€                        â”‚
â”‚     â”œâ”€ ä¾èµ–çŠ¶æ€                            â”‚
â”‚     â”œâ”€ æ¨¡å—ä¾èµ–å›¾                          â”‚
â”‚     â””â”€ é¡¹ç›®çŠ¶æ€                            â”‚
â”‚                                           â”‚
â”‚  é˜¶æ®µå®Œæˆæ ¡éªŒï¼š                            â”‚
â”‚  â””â”€ æ£€æŸ¥ç¼ºå¤±æ¨¡å—å¼•ç”¨                        â”‚
â”‚     â””â”€ è‡ªåŠ¨ç”Ÿæˆä¿®å¤æ­¥éª¤ âœ“                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ä»»åŠ¡å®Œæˆ âœ“
```

## ä¸»è¦åŠŸèƒ½

### 1. é¢„è§„åˆ’é¡¹ç›®æ‰«æï¼ˆNEWï¼‰

åœ¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’å‰ï¼ŒFrontAgent ä¼šè‡ªåŠ¨æ‰«æé¡¹ç›®ç»“æ„ï¼Œæä¾›ç»™ LLM æ›´å‡†ç¡®çš„æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼š

```typescript
// åœ¨è§„åˆ’å‰è‡ªåŠ¨æ‰§è¡Œ
const projectStructure = await scanProjectFiles();
// è¿”å›ç¤ºä¾‹ï¼š"Project files (245 files): src/App.tsx, src/components/Button.tsx, ..."

// LLM è·å–è¯¥ä¸Šä¸‹æ–‡åä¼šç”Ÿæˆæ›´å‡†ç¡®çš„æ–‡ä»¶è·¯å¾„
```

ä¼˜ç‚¹ï¼š
- âœ… **è·¯å¾„æ›´å‡†ç¡®** â€” LLM çŸ¥é“ç°æœ‰æ–‡ä»¶å¹¶ç”Ÿæˆæ­£ç¡®ç›¸å¯¹è·¯å¾„
- âœ… **å‡å°‘å¹»è§‰** â€” å‡å°‘â€œæ–‡ä»¶æœªæ‰¾åˆ°â€é”™è¯¯
- âœ… **æ›´å¥½ä¸Šä¸‹æ–‡** â€” Planner åœ¨è§„åˆ’å‰äº†è§£é¡¹ç›®ç»“æ„

å®ç°ä½ç½®ï¼špackages/core/src/agent.ts:217-255

### 2. è‡ªåŠ¨å¼€å‘æœåŠ¡å™¨ç«¯å£æ£€æµ‹ï¼ˆNEWï¼‰

FrontAgent ä¼šä»é¡¹ç›®é…ç½®ä¸­è‡ªåŠ¨æ£€æµ‹å¼€å‘æœåŠ¡å™¨ç«¯å£ï¼š

```typescript
// æ£€æµ‹æ¥æºï¼ˆä¼˜å…ˆçº§é¡ºåºï¼‰
// 1. vite.config.ts/js: server.port å­—æ®µ
// 2. package.json è„šæœ¬: --port æˆ– -p æ ‡å¿—
// 3. æ¡†æ¶é»˜è®¤: Vite (5173), Next.js (3000), CRA (3000), Angular (4200)
// 4. å›é€€å€¼: 5173

const devServerPort = await detectDevServerPort();
// ç”¨äºæµè§ˆå™¨ç›¸å…³ä»»åŠ¡
```

ä¼˜ç‚¹ï¼š
- âœ… **è‡ªåŠ¨å‘ç°ç«¯å£** â€” æ— éœ€æ‰‹åŠ¨é…ç½®ç«¯å£
- âœ… **æ¡†æ¶æ„ŸçŸ¥** â€” è¯†åˆ«ä¸åŒæ¡†æ¶çš„é»˜è®¤ç«¯å£
- âœ… **æµè§ˆå™¨æµ‹è¯•æ›´å¯é ** â€” ä½¿ç”¨æ­£ç¡®çš„ç«¯å£è¿›è¡ŒéªŒè¯

å®ç°ä½ç½®ï¼špackages/core/src/agent.ts:732-793

### 3. ä¸¤é˜¶æ®µæ¶æ„

FrontAgent é‡‡ç”¨ä¸¤é˜¶æ®µæ¶æ„ï¼Œå½»åº•è§£å†³åœ¨ç”Ÿæˆå¤§é‡ä»£ç æ—¶çš„ JSON è§£æé—®é¢˜ï¼š

é˜¶æ®µ 1ï¼šPlanner
- è¾“å…¥ï¼šç”¨æˆ·ä»»åŠ¡ + SDD çº¦æŸ + é¡¹ç›®ä¸Šä¸‹æ–‡ + é¡¹ç›®æ–‡ä»¶åˆ—è¡¨ï¼ˆNEWï¼‰
- è¾“å‡ºï¼šç»“æ„åŒ–æ‰§è¡Œè®¡åˆ’ï¼ˆä»…æè¿°ã€æ— ä»£ç ï¼‰
- æŠ€æœ¯ï¼šä½¿ç”¨ `generateObject` ç”Ÿæˆç¬¦åˆ Zod Schema çš„ JSON
- è¦ç‚¹ï¼šJSON ä¸­ä¸åŒ…å«ä»£ç ï¼Œé¿å…è½¬ä¹‰ä¸è§£æé—®é¢˜

```json
{
  "summary": "Create login page",
  "steps": [
    {
      "description": "Create Login.tsx component file",
      "action": "create_file",
      "params": {
        "path": "src/pages/Login.tsx",
        "codeDescription": "Create a React component with username, password inputs and login button"
      },
      "needsCodeGeneration": true
    }
  ]
}
```

é˜¶æ®µ 2ï¼šExecutor
- è¾“å…¥ï¼šç»“æ„åŒ–æ‰§è¡Œè®¡åˆ’
- æµç¨‹ï¼šæŒ‰è®¡åˆ’é€æ­¥æ‰§è¡Œ
- ä»£ç ç”Ÿæˆï¼šé‡åˆ° `needsCodeGeneration: true` æ—¶ä½¿ç”¨ `generateText` åŠ¨æ€ç”Ÿæˆä»£ç 
- æŠ€æœ¯ï¼šä½¿ç”¨ MCP å·¥å…·è¿›è¡Œæ–‡ä»¶æ“ä½œã€å‘½ä»¤æ‰§è¡Œç­‰

ä¼˜åŠ¿ï¼š
1. âœ… é¿å… JSON è§£æé”™è¯¯ï¼ˆJSON ä¸­æ²¡æœ‰ä»£ç ï¼‰
2. âœ… æ›´å¥½å¯æ§ï¼ˆæ¯ä¸ªæ­¥éª¤å•ç‹¬æ ¡éªŒï¼‰
3. âœ… æ”¯æŒå¤§å‹é¡¹ç›®ï¼ˆæ—  JSON å¤§å°é™åˆ¶ï¼‰
4. âœ… åŸºäºå®æ—¶ä¸Šä¸‹æ–‡çš„æ›´ç²¾ç¡®ä»£ç ç”Ÿæˆ

### 4. åˆ†é˜¶æ®µæ‰§è¡Œä¸è‡ªæ„ˆ

FrontAgent å®ç°äº†åˆ†é˜¶æ®µæ‰§è¡Œä¸è‡ªåŠ¨é”™è¯¯æ¢å¤ï¼š

é˜¶æ®µåŒ–æ‰§è¡Œï¼š

æ‰§è¡Œè®¡åˆ’ä¼šè¢«åˆ’åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µä¸“æ³¨ä¸€ä¸ªç›®æ ‡ï¼š

```json
{
  "steps": [ ... ]
}
```

ä¼˜ç‚¹ï¼š
- ğŸ¯ **æ‰§è¡Œæµç¨‹æ¸…æ™°**
- ğŸ”„ **é˜¶æ®µå†…è‡ªåŠ¨æ¢å¤é”™è¯¯**
- ğŸ“Š **è¿›åº¦å¯è§†åŒ–**

å·¥å…·é”™è¯¯åé¦ˆå¾ªç¯ï¼š

å½“å·¥å…·æ‰§è¡Œå¤±è´¥æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†æé”™è¯¯å¹¶ç”Ÿæˆä¿®å¤æ­¥éª¤ï¼š

```typescript
// 1. å‘ç°é”™è¯¯
Error: Cannot apply patch: file not found in context: src/App.tsx

// 2. LLM åˆ†æé”™è¯¯å¹¶ç”Ÿæˆæ¢å¤æ­¥éª¤
{
  "canRecover": true,
  "analysis": "File src/App.tsx not read into context, need to read it first",
  "recoverySteps": [ ... ]
}

// 3. è‡ªåŠ¨æ‰§è¡Œä¿®å¤æ­¥éª¤
// 4. ç»§ç»­åŸå§‹æµç¨‹
```

ç‰¹æ€§ï¼š
- ğŸ” **æ™ºèƒ½é”™è¯¯åˆ†æ**
- ğŸ› ï¸ **è‡ªåŠ¨ç”Ÿæˆä¿®å¤æ­¥éª¤**
- ğŸ“ **å†…ç½®å¸¸è§é”™è¯¯å¤„ç†æ¨¡å¼**
- â™»ï¸ **é˜¶æ®µçº§åˆ«æ¢å¤ï¼Œéé˜»å¡æ•´ä½“æµç¨‹**

### 5. åŸºäºäº‹å®çš„ä¸Šä¸‹æ–‡ç³»ç»Ÿ

ä¼ ç»Ÿ agent ä½¿ç”¨æ‰§è¡Œæ—¥å¿—ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´å†—ä½™ä¸ä¸å‡†ç¡®ï¼›FrontAgent ä½¿ç”¨ç»“æ„åŒ–çš„â€œäº‹å®â€ç³»ç»Ÿï¼š

ç¤ºä¾‹ï¼ˆç®€åŒ–ï¼‰:

```yaml
## æ–‡ä»¶ç³»ç»ŸçŠ¶æ€

ç¡®è®¤å­˜åœ¨çš„æ–‡ä»¶:
- src/App.tsx
- src/components/Button.tsx
- package.json

ç¡®è®¤ä¸å­˜åœ¨çš„è·¯å¾„:
- src/pages/Login.tsx

ä¾èµ–çŠ¶æ€:
å·²å®‰è£…: react-router-dom, axios
ç¼ºå¤±: @types/node

åˆ›å»ºçš„æ¨¡å—ç¤ºä¾‹:
- src/components/ui/Button.tsx (é»˜è®¤å¯¼å‡º Button)
- src/pages/HomePage.tsx (é»˜è®¤å¯¼å‡º HomePage)

é¡¹ç›®çŠ¶æ€:
- Dev server: Running (port: 5173) â† è‡ªåŠ¨æ£€æµ‹
- Build status: Success

æœ€è¿‘é”™è¯¯:
- [apply_patch] Cannot apply patch: file not found in context
```

ä¼˜ç‚¹ï¼š
- ğŸ“Š **ç»“æ„åŒ–ä¿¡æ¯**ï¼šæ¸…æ™°åˆ†ç±»ï¼ˆæ–‡ä»¶ç³»ç»Ÿã€ä¾èµ–ã€æ¨¡å—å›¾ã€é¡¹ç›®çŠ¶æ€ï¼‰
- ğŸ¯ **å»é‡**ï¼šä½¿ç”¨ Set/Map è‡ªåŠ¨å»é‡
- ğŸ’¡ **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šLLM çŸ¥é“å“ªäº›æ–‡ä»¶å­˜åœ¨/ä¸å­˜åœ¨
- ğŸ”„ **å®æ—¶æ›´æ–°**ï¼šæ¯æ¬¡å·¥å…·æ‰§è¡Œåè‡ªåŠ¨æ›´æ–° facts
- ğŸ“‰ **å‡å°‘ token ä½¿ç”¨**ï¼šä¿¡æ¯ç®€æ´ï¼Œç¼©çŸ­ LLM è¾“å…¥
- ğŸ”— **æ¨¡å—è·Ÿè¸ª**ï¼šè‡ªåŠ¨è§£ææ¯ä¸ªæ–‡ä»¶çš„ import/export

## æ ¸å¿ƒæ¨¡å—

### @frontagent/sdd â€” SDD æ§åˆ¶å±‚

å°† Specification Driven Development (SDD) ä½œä¸º agent è¡Œä¸ºçš„ç¡¬çº¦æŸï¼š

```yaml
# sdd.yamlï¼ˆç¤ºä¾‹ï¼‰
version: "1.0"

project:
  name: "my-project"
  type: "react-spa"

tech_stack:
  framework: "react"
  version: "^18.0.0"
  language: "typescript"
  forbidden_packages:
    - "jquery"
    - "lodash"

code_quality:
  max_function_lines: 50
  max_file_lines: 300
  forbidden_patterns:
    - "any"
    - "// @ts-ignore"

modification_rules:
  protected_files:
    - "package.json"
  require_approval:
    - pattern: "src/api/*"
      reason: "API å±‚ä¿®æ”¹éœ€å®¡æ‰¹"
```

### @frontagent/mcp-file â€” æ–‡ä»¶æ“ä½œ MCP

æä¾›æ–‡ä»¶æ“ä½œç›¸å…³çš„ MCP å·¥å…·ï¼š

- `read_file`, `list_directory`, `create_file`, `apply_patch`, `search_code`, `get_ast`, `rollback`

### @frontagent/mcp-shell â€” Shell å‘½ä»¤ MCP

æä¾›ç»ˆç«¯å‘½ä»¤æ‰§è¡Œï¼ˆéœ€ç”¨æˆ·æ‰¹å‡†ï¼‰ï¼š

- `run_command`ï¼šæ”¯æŒè‡ªå®šä¹‰å·¥ä½œç›®å½•ã€è¶…æ—¶ã€åŒºåˆ†è­¦å‘Š/é”™è¯¯ç­‰

### @frontagent/mcp-web â€” Web æ„ŸçŸ¥ MCP

æä¾›æµè§ˆå™¨äº¤äº’å·¥å…·ï¼š

- `navigate`, `get_page_structure`, `get_accessibility_tree`, `get_interactive_elements`, `click`, `type`, `scroll`, `screenshot`

### @frontagent/hallucination-guard â€” å¹»è§‰é˜²æŠ¤

å¤šå±‚å¹»è§‰æ£€æµ‹ï¼š

1. æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥
2. import å¯è§£ææ€§æ£€æŸ¥
3. è¯­æ³•æœ‰æ•ˆæ€§æ£€éªŒ
4. SDD åˆè§„æ€§æ£€æŸ¥

## æŠ€æœ¯æ ˆ

- è¯­è¨€ï¼šTypeScript
- è¿è¡Œæ—¶ï¼šNode.js 20+
- åŒ…ç®¡ç†å™¨ï¼špnpm
- MCP SDKï¼š@modelcontextprotocol/sdk
- æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼šPlaywright
- AST åˆ†æï¼šts-morph
- LLM é›†æˆï¼šVercel AI SDK

## ç›®å½•ç»“æ„ï¼ˆæ¦‚è§ˆï¼‰

```
frontagent/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ sdd/
â”‚   â”œâ”€â”€ mcp-file/
â”‚   â”œâ”€â”€ mcp-web/
â”‚   â”œâ”€â”€ mcp-shell/
â”‚   â”œâ”€â”€ hallucination-guard/
â”‚   â””â”€â”€ core/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ cli/
â”œâ”€â”€ examples/
â””â”€â”€ docs/
    â”œâ”€â”€ architecture.md
    â””â”€â”€ design.md
```

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šåˆ›å»ºæ–°é¡¹ç›®

```bash
cd examples
frontagent run "Create an e-commerce frontend project using React + TypeScript + Vite + Tailwind CSS"
```

æµç¨‹ä¼šè‡ªåŠ¨ï¼šåˆ†æéœ€æ±‚ â†’ ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ â†’ åˆ›å»º package.json ä¸é…ç½® â†’ è¯·æ±‚å®‰è£…ä¾èµ–ï¼ˆéœ€ç”¨æˆ·æ‰¹å‡†ï¼‰â†’ ç”Ÿæˆé¡µé¢ä¸æ ·å¼

### ç¤ºä¾‹ 2ï¼šä¿®æ”¹ç°æœ‰æ–‡ä»¶

```bash
frontagent run "Modify vite.config.ts to add path alias configuration"
```

Agent ä¼šï¼šè¯»å–ç°æœ‰é…ç½® â†’ ç”Ÿæˆæ–°é…ç½®ä»£ç  â†’ åº”ç”¨æœ€å°è¡¥ä¸

### ç¤ºä¾‹ 3ï¼šæ·»åŠ æ–°åŠŸèƒ½

```bash
frontagent run "Add user authentication feature, including login, registration, and token management"
```

Agent ä¼šï¼šåˆ†æé¡¹ç›®ç»“æ„ â†’ è§„åˆ’è¦åˆ›å»ºçš„æ–‡ä»¶ â†’ ç”Ÿæˆè®¤è¯ç›¸å…³ç»„ä»¶ä¸ API é›†æˆ â†’ æ›´æ–°è·¯ç”±é…ç½®

### ç¤ºä¾‹ 4ï¼šæ€§èƒ½ä¼˜åŒ–

```bash
frontagent run "Analyze and optimize homepage loading performance"
```

Agent ä¼šï¼šè¯»å–ç›¸å…³ç»„ä»¶ â†’ åˆ†ææ€§èƒ½ç“¶é¢ˆ â†’ æå‡ºä¼˜åŒ–æ–¹æ¡ˆ â†’ å®æ–½ä»£ç çº§ä¼˜åŒ–ï¼ˆæ‡’åŠ è½½ã€ä»£ç æ‹†åˆ†ç­‰ï¼‰

### ç¤ºä¾‹ 5ï¼šè‡ªåŠ¨é”™è¯¯æ¢å¤

```bash
frontagent run "Add route configuration in App.tsx"
```

æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹ï¼š

```
Phase 1: Analysis Phase
  âœ“ Step 1: Read package.json

Phase 2: Creation Phase
  âœ— Step 2: Modify App.tsx
     Error: Cannot apply patch: file not found in context

  ğŸ”„ Error recovery in progress...
     Analysis: App.tsx not read into context

  âœ“ Recovery Step 1: Read src/App.tsx into context
  âœ“ Recovery Step 2: Reapply patch to App.tsx

Phase 3: Validation Phase
  âœ“ Step 3: Run type check

âœ… Task complete! Auto-fixed 1 error
```

å…³é”®ç‰¹ç‚¹ï¼š
- ğŸ¯ **åˆ†é˜¶æ®µæ‰§è¡Œ**
- ğŸ”„ **è‡ªåŠ¨ä¿®å¤**
- ğŸ“Š **äº‹å®è·Ÿè¸ª**
- âš¡ **ä¸€æ¬¡å®Œæˆï¼Œæ— éœ€é‡è¯•**

## ç¯å¢ƒå˜é‡

å¿…éœ€é…ç½®ï¼š

| å˜é‡ | å«ä¹‰ | ç¤ºä¾‹ |
|------|------|------|
| PROVIDER | LLM æä¾›å•† | openai / anthropic |
| API_KEY  | API Key | sk-... |
| MODEL    | æ¨¡å‹å | gpt-4 / claude-sonnet-4-20250514 |
| BASE_URL | API åœ°å€ | https://api.openai.com/v1 |

OpenAI ç¤ºä¾‹ï¼š

```bash
export PROVIDER="openai"
export BASE_URL="https://api.openai.com/v1"
export MODEL="gpt-4"
export API_KEY="sk-..."
```

Anthropic ç¤ºä¾‹ï¼š

```bash
export PROVIDER="anthropic"
export BASE_URL="https://api.anthropic.com"
export MODEL="claude-sonnet-4-20250514"
export API_KEY="sk-ant-..."
```

## å¼€å‘

```bash
# å¼€å‘æ¨¡å¼
pnpm dev

# ç±»å‹æ£€æŸ¥
pnpm typecheck

# æ„å»º
pnpm build

# æ¸…ç†
pnpm clean
```

## è·¯çº¿å›¾

å·²å®Œæˆ âœ…
- ä¸¤é˜¶æ®µæ¶æ„ï¼ˆPlanner + Executorï¼‰
- åˆ†é˜¶æ®µæ‰§è¡Œ
- å·¥å…·é”™è¯¯åé¦ˆå¾ªç¯ï¼ˆè‡ªæ„ˆï¼‰
- åŸºäºäº‹å®çš„ä¸Šä¸‹æ–‡ç³»ç»Ÿ
- æ¨¡å—ä¾èµ–å›¾
- ç”Ÿæˆåæ ¡éªŒ
- è·¯å¾„å¹»è§‰æ£€æµ‹
- å¤š LLM æä¾›å•†æ”¯æŒï¼ˆOpenAI, Anthropicï¼‰
- Shell å‘½ä»¤æ‰§è¡Œï¼ˆéœ€æ‰¹å‡†ï¼‰
- åŠ¨æ€ä»£ç ç”Ÿæˆï¼ˆé¿å… JSON è§£æé”™è¯¯ï¼‰
- MCP å·¥å…·é›†æˆï¼ˆFile, Web, Shellï¼‰
- ç±»å‹è‡ªåŠ¨å½’ä¸€åŒ–
- æ”¯æŒæ— é™æ­¥ä»»åŠ¡
- LLM schema çº¦æŸä¼˜åŒ–ä¸è‡ªåŠ¨ä¿®å¤ç­–ç•¥
- é¢„è§„åˆ’æ–‡ä»¶æ‰«æï¼ˆNEWï¼‰
- è‡ªåŠ¨å¼€å‘ç«¯å£æ£€æµ‹ï¼ˆNEWï¼‰

è¿›è¡Œä¸­ ğŸš§
- å¢å¼ºçš„ SDD çº¦æŸï¼ˆæ›´ç»†ç²’åº¦è§„åˆ™ï¼‰

è®¡åˆ’ä¸­ ğŸ“‹
- RAG ç»éªŒåº“é›†æˆ
- åŸºäº Playwright çš„ GUI è‡ªåŠ¨åŒ–æµ‹è¯•
- VS Code æ’ä»¶
- å¤š agent åä½œ
- è‡ªå®šä¹‰ MCP æœåŠ¡æ”¯æŒ
- ä»£ç å®¡æŸ¥æ¨¡å¼
- å¢é‡æ›´æ–°æ¨¡å¼

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼æäº¤ issueã€bug æˆ–å»ºè®®ï¼š

1. Fork ä»“åº“
2. æ–°å»ºåˆ†æ”¯ `git checkout -b feature/amazing-feature`
3. æäº¤æ”¹åŠ¨ `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ `git push origin feature/amazing-feature`
5. å‘èµ· Pull Request

## è®¸å¯

MIT
